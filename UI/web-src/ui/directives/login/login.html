<form name="loginForm" novalidate>
    <div>
        <div class="already-logged-in" ng-if="!loggingIn && User.current">
            <span ma-tr="login.aleadyLoggedIn" ma-tr-args="[User.current.username]"></span>
            <a ui-sref="ui.dataPointDetails" ma-tr="login.ui.goToUI"></a>
        </div>
    
    	<md-input-container class="md-icon-float md-block">
          <label for="username" ma-tr="login.userId"></label>
          <md-icon>person</md-icon>
          <input id="username" name="username" ng-model="username" type="text" autofocus ma-autofocus tabindex="1" required md-no-asterisk aria-label="{{'login.userId'|maTr}}">
          <div ng-messages="loginForm.username.$error">
            <div ng-message="required" ma-tr="login.validation.noUsername"></div>
          </div>
        </md-input-container>
        <md-input-container class="md-icon-float md-block">
          <label for="password" ma-tr="login.password"></label>
          <md-icon>vpn_key</md-icon>
          <input id="password" name="password" ng-model="password" type="password" tabindex="2" required md-no-asterisk aria-label="{{'login.password'|maTr}}">
          <div ng-messages="loginForm.password.$error">
            <div ng-message="required" ma-tr="login.validation.noPassword"></div>
          </div>
        </md-input-container>
        <div ng-messages="errors" md-colors="{color: 'warn'}">
          <div ng-message="invalidLogin" ma-tr="login.ui.loginFailed" ma-tr-args="[invalidLoginMessage]"></div>
          <div ng-message="otherError" ma-tr="login.error" ma-tr-args="[errors.otherError]"></div>
        </div>
    </div>
    <div layout="row" layout-align="start center">
        <div>
            <div ng-if="serverInfo.publicRegistrationEnabled">
                <a ui-sref="verifyEmail" tabindex="5" ma-tr="login.emailVerification.registerNewUser"></a>
            </div>
            <div>
                <a ui-sref="forgotPassword({username: username})" tabindex="4" ma-tr="login.forgotYourPassword"></a>
            </div>
        </div>
        <div flex></div>
       <md-button type="submit" ng-click="doLogin()" tabindex="3" ma-tr="login.loginButton" class="md-accent md-raised" aria-label="{{'login.loginButton'|maTr}}"></md-button>
    </div>
</form>