<md-sidenav
    class="site-sidenav md-sidenav-left md-whiteframe-z2 ma-ui-mainmenu"
    md-component-id="left"
    hide-print
    md-swipe-left="closeMenu()"
    class="navigation-menu"
    md-disable-backdrop=""
>
    <md-toolbar class="md-tall ma-ui-sidebar-header md-whiteframe-glow-z1">
        <ma-now update-interval="1 MINUTES" output="currentTime"></ma-now>
        <div flex layout="column">
            <img
                ng-src="{{$ctrl.logo}}"
                ng-attr-title="{{::serverInfo.instanceDescription}}"
                ng-attr-alt="{{::serverInfo.instanceDescription}}"
            />

            <div flex layout="column" layout-align="start center" class="ma-ui-user-datetime">
                <span ng-bind="currentTime.format('dddd')" class="ma-ui-user-date"></span>
                <span ng-bind="currentTime.format('MM/DD/YYYY')" class="ma-ui-user-date"></span>
                <span ng-bind="currentTime.format('LT z')" class="ma-ui-user-time"></span>
            </div>
        </div>
    </md-toolbar>

    <md-content flex role="navigation">
        <ul class="ma-ui-menu ma-ui-menu-level-1">
            <li
                ng-repeat="item in $ctrl.menuItems track by item.name"
                ng-if="$ctrl.isVisible(item)"
                ng-hide="$ctrl.openSubmenu && $ctrl.openSubmenu.name !== item.name"
            >
                <ma-ui-main-menu-link menu-item="item" ng-if="!(item.children && item.abstract)"></ma-ui-main-menu-link>
                <ma-ui-main-menu-toggle menu-item="item" open-menu="$ctrl.openMenu" ng-if="item.children && item.abstract"></ma-ui-main-menu-toggle>
            </li>
        </ul>
    </md-content>
</md-sidenav>

<md-sidenav class="md-sidenav-left ma-ui-submenu" md-component-id="submenu" md-disable-backdrop="" md-whiteframe="4">
    <md-content layout-margin="">
        <md-icon ng-if="$ctrl.menuShowGoBack()" ng-click="$ctrl.menuGoBack()" class="ma-ui-menu-icon"> arrow_back </md-icon>
        <div class="ma-ui-submenu-container">
            <md-icon
                ng-if="$ctrl.menuItemSelected.menuIcon && $ctrl.menuItemSelected.menuIcon.indexOf('fa-') === 0"
                class="ma-ui-submenu-icon fa fa-fw {{$ctrl.menuItemSelected.menuIcon}}"
            >
            </md-icon>
            <md-icon
                ng-if="$ctrl.menuItemSelected.menuIcon && $ctrl.menuItemSelected.menuIcon.indexOf('svg') !== 0  && $ctrl.menuItemSelected.menuIcon.indexOf('fa-') !== 0"
                class="ma-ui-submenu-icon"
            >
                {{$ctrl.menuItemSelected.menuIcon}}
            </md-icon>
            <ma-ui-main-menu-svg-icon
                ng-if="$ctrl.menuItemSelected.menuIcon && $ctrl.menuItemSelected.menuIcon.indexOf('svg') === 0"
                item="$ctrl.menuItemSelected"
                class="ma-ui-submenu-icon"
            ></ma-ui-main-menu-svg-icon>
            <h3 ng-if="$ctrl.menuItemSelected.menuTr" ma-tr="{{$ctrl.menuItemSelected.menuTr}}"></h3>
            <h3 ng-if="$ctrl.menuItemSelected.menuText">{{$ctrl.menuItemSelected.menuText}}</h3>
            <ul class="ma-ui-menu-toggle-list" ng-class="'ma-ui-menu-level-' + ($ctrl.menuLevel + 1)">
                <li
                    ng-repeat="child in $ctrl.menuItemSelected.children | orderBy:['weight', 'name'] track by child.name"
                    ng-if="$ctrl.isVisible(child)"
                >
                    <ma-ui-main-menu-link menu-item="child" ng-if="!(child.children && child.abstract)"></ma-ui-main-menu-link>
                    <ma-ui-main-menu-toggle
                        menu-item="child"
                        open-menu="$ctrl.openMenu"
                        ng-if="child.children && child.abstract"
                    ></ma-ui-main-menu-toggle>
                </li>
            </ul>
        </div>
    </md-content>
</md-sidenav>
