<div flex="noshrink" layout="row">
    <ma-point-browser ng-show="$ctrl.browserOpen"
        flex="20"
        ng-model="$ctrl.watchList"
        ng-change="$ctrl.watchListChanged()"
        ng-disabled="$ctrl.bulkTaskPromise">
    </ma-point-browser>

    <div flex layout="column">
        <md-card ng-if="$ctrl.watchList.hasParamOptions()" class="ma-watch-list-parameters">
            <ma-watch-list-parameters watch-list="$ctrl.watchList"
                ng-model="$ctrl.watchListParams" ng-change="$ctrl.getPoints()"
                class="md-padding" layout layout-wrap>
            </ma-watch-list-parameters>
        </md-card>
        
        <md-card class="ma-bulk-data-point-edit">
            <ma-bulk-data-point-editor ng-model="$ctrl.points" task-started="$ctrl.taskStarted($promise)" points-promise="$ctrl.pointsPromise">
                <ma-extra-controls>
                    <md-button class="md-icon-button" ng-click="$ctrl.browserOpen = !$ctrl.browserOpen">
                        <md-icon>{{$ctrl.browserOpen ? 'keyboard_arrow_left' : 'keyboard_arrow_right'}}</md-icon>
                        <md-tooltip>
                            <span ng-if="$ctrl.browserOpen" ma-tr="ui.app.hidePointBrowser"></span>
                            <span ng-if="!$ctrl.browserOpen" ma-tr="ui.app.showPointBrowser"></span>
                        </md-tooltip>
                    </md-button>
                </ma-extra-controls>
            </ma-bulk-data-point-editor>
        </md-card>
    </div>
</div>
