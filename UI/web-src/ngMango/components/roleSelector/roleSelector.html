<md-input-container class="ma-filter" md-no-float>
    <input ng-model="$ctrl.filter" ng-model-options="{debounce: 500}" ng-change="$ctrl.filterRoles()" ma-tr="roles.filter">
    <md-button ng-show="$ctrl.filter" class="ma-input-button md-icon-button" ng-click="$ctrl.filter = null; $ctrl.filterRoles()">
        <md-icon>clear</md-icon>
    </md-button>
</md-input-container>

<ma-tree-view items="$ctrl.rolesPromise" item-id="$item.xid" item-children="$ctrl.loadInherited($item, $limit, $offset)"
              item-has-children="$item.inherited.length"><!-- no space
 --><md-button class="ma-role-selector-row" ng-click="$ctrl.labelClicked($event, $item)" ng-disabled="$ctrl.disabled || $ctrl.disabledOptionsMap[$item.xid]"><!-- no space
     --><md-checkbox ng-if="$ctrl.multiple" md-no-ink ng-disabled="$ctrl.disabled || $ctrl.disabledOptionsMap[$item.xid]" ng-checked="$ctrl.selected.has($item.xid)"></md-checkbox>
        <span md-highlight-text="$ctrl.filter" md-highlight-flags="ig">{{$item.name}}</span>
    </md-button>
</ma-tree-view>

<div layout="column" ng-if="$ctrl.dropDownCtrl.fullscreen && $ctrl.multiple">
    <md-button ng-click="$ctrl.dropDownCtrl.close()">
        <span ma-tr="common.ok"></span>
    </md-button>
</div>