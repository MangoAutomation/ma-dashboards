<md-list class="ma-no-padding">
    <md-divider ng-repeat-start="eventTypeName in $ctrl.eventTypeNames | orderBy:'typeName'" ng-if="!$first"></md-divider>
    
    <md-list-item class="ma-event-type-heading" ng-click="expanded = !expanded" ng-init="expanded = $first">
        <p ng-bind="eventTypeName.description"></p>
        <md-icon>{{expanded ? 'keyboard_arrow_up' : 'keyboard_arrow_down'}}</md-icon>
    </md-list-item>
    
    <md-list-item ng-if="expanded && $ctrl.eventTypes[eventTypeName.typeName].length"
            ng-repeat="eventType in $ctrl.eventTypes[eventTypeName.typeName] track by eventType.uniqueId"
            ng-click="$ctrl.selectEventType(eventType)"
            md-colors="{'background': $ctrl.selected.uniqueId === eventType.uniqueId ? 'accent-hue-1' : 'background-hue-1'}">
        <p ng-bind="eventType.description"></p>
    </md-list-item>
    
    <md-list-item  ng-repeat-end ng-if="expanded && !$ctrl.eventTypes[eventTypeName.typeName].length">
        <p><em ma-tr="ui.components.noEventTypes"></em></p>
    </md-list-item>
</md-list>
