<div class="ma-permission-editor-row ma-permission-editor-header">
    <div class="ma-permission-editor-description-column"></div>
    <div class="ma-permission-editor-checkbox-column" ng-repeat="minterm in $ctrl.minterms track by minterm.id">
        <md-button class="md-icon-button ma-small-button" ng-click="$ctrl.removeColumn(minterm)" ng-disabled="$ctrl.minterms.length <= 1">
            <md-icon>visibility_off</md-icon>
            <md-tooltip><span ma-tr="ui.permissions.hideColumn"></span></md-tooltip>
        </md-button>
        <div ng-repeat="role in minterm.roles">
            <span ng-if="!$first">&amp; </span> <span ng-bind="role"></span>
        </div>
    </div>
    <div class="ma-permission-editor-other-column">
        <ma-drop-down-button>
            <span ma-tr="ui.permissions.otherRolesWithAccess"></span>
            <ma-drop-down class="ma-permission-editor-container-role-selector ma-full-screen-centered" on-close="$ctrl.deleteRoles()">
                <div layout="row" layout-align="center">
                    <md-switch ma-form-exclude ng-model="$ctrl.settings.advancedMode" ng-change="$ctrl.advancedModeChanged()">
                        <span ma-tr="ui.permissions.advancedMode"></span>
                        <md-tooltip><span ma-tr="ui.permissions.advancedModeHint"></span></md-tooltip>
                    </md-switch>
                </div>
                <ma-role-selector ng-model="$ctrl.roles" ng-change="$ctrl.rolesChanged($dropDown)"
                                  disabled-options="!$ctrl.settings.advancedMode && $ctrl.disabledOptions"
                                  ng-multiple="$ctrl.settings.advancedMode" ma-configure-input-container></ma-role-selector>
                <div layout="row" ng-if="$ctrl.settings.advancedMode">
                    <md-button flex class="md-primary" ng-disabled="!$ctrl.roles || !$ctrl.roles.length"
                               ng-click="$ctrl.addRolesAsColumn($dropDown)">
                        <span ma-tr="common.ok"></span>
                    </md-button>
                    <md-button flex ng-click="$dropDown.close()">
                        <span ma-tr="common.cancel"></span>
                    </md-button>
                </div>
            </ma-drop-down>
            <md-tooltip><span ma-tr="ui.permissions.addColumn"></span></md-tooltip>
        </ma-drop-down-button>
    </div>
</div>
<div ng-transclude></div>