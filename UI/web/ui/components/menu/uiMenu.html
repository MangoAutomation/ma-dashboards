<ul class="ma-ui-menu menu-level-1">
  <li ng-repeat="item in $ctrl.menuItems | orderBy:['weight','name'] track by item.name" ng-if="item.visible"
      ng-hide="$ctrl.openSubmenu && $ctrl.openSubmenu.name !== item.name">
    <menu-link menu-item="item" ng-if="!item.children"></menu-link>
    <menu-toggle menu-item="item" open-menu="$ctrl.openMenu" ng-if="item.children"></menu-toggle>
  </li>
</ul>
