<div flex="none" layout layout-align="start center" class="ma-file-store-browser-crumbs">
	<span ng-if="!$ctrl.restrictToStore" layout layout-align="start center">
		<span ng-click="$ctrl.pathClicked($event, -1)" ma-tr="ui.app.fileStores"></span>
		<span ng-if="$ctrl.path.length"><md-icon>chevron_right</md-icon></span>
	</span>
	<span ng-repeat="directory in $ctrl.path track by $index" layout layout-align="start center">
		<span ng-bind="directory" ng-click="$ctrl.pathClicked($event, $index)"></span>
		<span ng-if="!$last"><md-icon>chevron_right</md-icon></span>
	</span>
</div>

<md-content ng-if="!$ctrl.listPromise" flex class="ma-file-store-browser-files">
	<md-table-container>
	  <table md-table md-row-select="false">
	    <thead md-head md-order="$ctrl.tableOrder">
	      <tr md-row>
	        <th md-column md-order-by="directory"></th>
	        <th md-column md-order-by="filename" ma-tr="ui.app.filename"></th>
	        <th md-column md-order-by="mimeType" ma-tr="ui.app.fileType"></th>
	        <th md-column md-order-by="lastModified" ma-tr="ui.app.lastModified"></th>
	      </tr>
	    </thead>
	    <tbody md-body>
	      <tr md-row ng-repeat="file in $ctrl.files | orderBy:$ctrl.tableOrder track by file.filename"
	      		ng-click="$ctrl.fileClicked($event, file)" ng-class="{'ma-file-selected': file.filename === $ctrl.filename}">
	        <td md-cell><md-icon>{{file.directory ? 'folder' : 'attachment'}}</md-icon></td>
	        <td md-cell ng-bind="file.filename"></td>
	        <td md-cell ng-bind="file.mimeType"></td>
	        <td md-cell><span ng-if="file.lastModified" ng-bind="file.lastModified | maDate"></span></td>
	      </tr>
	    </tbody>
	  </table>
	</md-table-container>
</md-content>

<div ng-if="$ctrl.listPromise" flex layout="column" layout-align="center center">
	<md-progress-circular class="md-accent" md-mode="indeterminate" md-diameter="50"></md-progress-circular>
</div>