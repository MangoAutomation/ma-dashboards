<md-table-container ng-init="myOrder='-activeTimestamp'; myPage=1;">
    <table md-table>
        <thead md-head md-order="myOrder">
            <tr md-row>
                <th md-column md-order-by="alarmLevel">Alarm Level</th>
                <th md-column md-order-by="eventType.eventType">Type</th>
                <th md-column md-order-by="id">Id</th>
                <th md-column md-order-by="activeTimestamp">Time</th>
                <th md-column md-order-by="message">Message</th>
                <th md-column md-order-by="status">Status</th>
                
                <th md-column>Duration</th>
                
                <th md-column md-order-by="acknowledged">Acknowledged</th>
                
            </tr>
        </thead>
        <tbody md-body>
            <tr ng-repeat="event in events | orderBy: myOrder | limitTo: paginateLimit: (myPage - 1) * paginateLimit">
                <td md-cell>
                    <span class="fa-stack fa-lg">
                        <i class="fa fa-square-o fa-stack-2x" style="color: rgb(255,133,0)" ng-if="event.active"></i>
                        <i class="fa fa-flag alarm-flag fa-stack-1x" ng-class="event.alarmLevel"></i>
                    </span>
                </td>
                <td md-cell>{{event.eventType.eventType}}</td>
                <td md-cell>{{event.id}}</td>
                <td md-cell>{{event.activeTimestamp | moment:'format':'l LT'}}</td>
                <td md-cell ng-bind-html="parseHTML(event.message)"></td>
                
                <td md-cell><span ng-if="event.returnToNormalTimestamp != 0">{{event.returnToNormalTimestamp | moment:'format':'l LT'}} -</span> {{event.status}} <span ng-if="event.active">Active</span></td>
                
                <td md-cell ng-if="event.returnToNormalTimestamp === 0">
                    <span ng-if="!event.active">N/A</span>
                    <span ng-if="event.active">
                        <ma-now update-interval="1 minutes" output="time"></ma-now>
                        {{time - event.activeTimestamp | duration: 'humanize'}}
                    </span>
                </td>
                <td md-cell ng-if="event.returnToNormalTimestamp != 0">{{event.returnToNormalTimestamp - event.activeTimestamp | duration: 'humanize'}}</td>
                <td md-cell>
                    <i class="fa fa-times fa-lg" ng-click="acknowledgeEvent(event.id);" ng-if="!event.acknowledged"></i>
                    <i class="fa fa-check fa-lg acknowledged-checkbox" ng-if="event.acknowledged"></i>
                </td>
            </tr>
        </tbody>
    </table>
</md-table-container>
<md-table-pagination md-limit="paginateLimit" md-limit-options="[5, 10, 15, 25, 50]" md-page="myPage" md-total="{{events.length}}"></md-table-pagination>