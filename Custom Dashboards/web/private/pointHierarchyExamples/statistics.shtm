<!DOCTYPE html>

<html>
<head>
	<meta charset="utf-8">
	
	<!-- Page Style -->
    <style type="text/css">
    </style>
	
	
	<title>Statistics</title>
    
    <!-- JQuery -->
    <script type="text/javascript" src="/modules/dashboards/web/js/jquery/jquery-1.11.1.js"></script>    	

    <link href="/modules/dashboards/web/js/jquery-ui/jquery.datetimepicker.css" rel="stylesheet">
 
    <script type="text/javascript" src="/modules/dashboards/web/js/jquery-ui/jquery.datetimepicker.js"></script>
    <!-- Charting Library -->
    <script type="text/javascript" src="/modules/dashboards/web/js/amcharts/amcharts.js"></script>
    <script type="text/javascript" src="/modules/dashboards/web/js/amcharts/serial.js"></script>
    <script type="text/javascript" src="/modules/dashboards/web/js/amcharts/gauge.js"></script>
    <script type="text/javascript" src="/modules/dashboards/web/js/amcharts/pie.js"></script>

    <!-- Mango Rest API Helper -->
    <script type="text/javascript" src="/modules/dashboards/web/js/mangoApi.js"></script>         
        
	<!-- Mango Templating API -->
	<!-- Display Widgets -->
	<script type="text/javascript" src="/modules/dashboards/web/js/mango/serialChart.js"></script>
    <script type="text/javascript" src="/modules/dashboards/web/js/mango/barChart.js"></script>
    <script type="text/javascript" src="/modules/dashboards/web/js/mango/statisticsBarChart.js"></script>
	<script type="text/javascript" src="/modules/dashboards/web/js/mango/pieChart.js"></script>
	<script type="text/javascript" src="/modules/dashboards/web/js/mango/statistics.js"></script>
    <script type="text/javascript" src="/modules/dashboards/web/js/mango/startsAndRuntimeListStatistics.js"></script>
    <script type="text/javascript" src="/modules/dashboards/web/js/mango/gaugeChart.js"></script>
	
	<!-- Data Providers -->
	<script type="text/javascript" src="/modules/dashboards/web/js/mango/pointValueDataProvider.js"></script>
    <script type="text/javascript" src="/modules/dashboards/web/js/mango/realtimePointValueDataProvider.js"></script>
	<script type="text/javascript" src="/modules/dashboards/web/js/mango/statisticsDataProvider.js"></script>
	<!-- Templater Core -->
	<script type="text/javascript" src="/modules/dashboards/web/js/mango/dataDisplayManager.js"></script>
	<script type="text/javascript" src="/modules/dashboards/web/js/mango/dataPointMatcher.js"></script>
	<script type="text/javascript" src="/modules/dashboards/web/js/mango/dataPointGroup.js"></script>  
	<script type="text/javascript" src="/modules/dashboards/web/js/mango/pointHierarchyGrouper.js"></script>
    <script type="text/javascript" src="/modules/dashboards/web/js/mango/dashboardTemplater.js"></script>
    <!-- Input Widgets -->
    <script type="text/javascript" src="/modules/dashboards/web/js/mango/dateTimePicker.js"></script>
    <script type="text/javascript" src="/modules/dashboards/web/js/mango/rollupPicker.js"></script>
    <script type="text/javascript" src="/modules/dashboards/web/js/mango/timePeriodTypePicker.js"></script>
    <script type="text/javascript" src="/modules/dashboards/web/js/mango/input.js"></script>
    <script type="text/javascript" src="/modules/dashboards/web/js/mango/select.js"></script>
    <script type="text/javascript" src="/modules/dashboards/web/js/mango/listView.js"></script>
    



   <script type="text/javascript">
   
   //Define Global Variables
   var templater;
   
   $( document ).ready(function(){
       
       //Setup Display Configurations
       var displayConfigurations = new Array();
       //Pass in the div id prefix and array of data provider IDs
       displayConfigurations.push(new StatisticsConfiguration('temperature', [1]));    
       displayConfigurations.push(new StatisticsConfiguration('voltage', [2]));  
       displayConfigurations.push(new StartsAndRuntimeListConfiguration('multistate', [3]));  
       
       
       //Create Data Providers
       var dataProviders = new Array();
 
       //Setup Point Configurations
       var pointConfigurations = new Array();
       pointConfigurations.push(new DataPointMatchConfiguration(1, [{matchAttribute: 'xid', regex: /temperature/}], {providerType: 'Statistics'}))
       pointConfigurations.push(new DataPointMatchConfiguration(2, [{matchAttribute: 'xid', regex: /voltage/}], {providerType: 'Statistics'}))
       pointConfigurations.push(new DataPointMatchConfiguration(3, [{matchAttribute: 'xid', regex: /multistate/}], {providerType: 'Statistics'}))

       //Setup Groups
       var group = new DataPointGroupConfiguration({
           groupBy: 'Folder',
           labelAttribute: 'name',
           matchConfigurations: [{
               matchAttribute: 'path',
               regex: /Target Folder/
           }]
           });
       
       var groupConfigurations = new Array();
       groupConfigurations.push(group);
       
       //Create a custom group list view
       var groupListView = new ListViewConfiguration('groupsList', {}, {styleClass: "ui-btn"});
       
       
       //Setup Templater, Defaults to previous 12 Hours
       var templaterConfig = {
               debug: true,
               type: 'PointHierarchy',
               displayConfigurations: displayConfigurations,
               pointConfigurations: pointConfigurations,
               groupConfigurations: groupConfigurations,
               dataProviders: dataProviders,
               groupSelectConfiguration: groupListView,
       }
       templater = new DashboardTemplater(templaterConfig);
   });// End When page Ready
   
   </script>





</head>
<body>
    <div id="errors"></div> <!-- The templater defaults to using a div with id errors if it exists -->
    <ul id="groupsList"></ul>
	<p>Statistics display using 1 Statistics Data Provider mapped to temperature and voltage points. Click the Target Folder to start.
	</p>
    <hr></hr>
    <h1>Voltage Point</h1>
        First:<br>
        <div id="voltageFirst"></div>
        Last:<br>
        <div id="voltageLast"></div>
            <table>
              <thead>
                <tr>
                  <th>#</th>
                  <th>Average</th>
                  <th>Integral</th>
                  <th>Sum</th>
                  <th>Count</th>
                  <th>Maximum</th>
                  <th>Minimum</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td id="pointName">Voltage</td>
                  <td id="voltageAverage"></td>
                  <td id="voltageIntegral"></td>
                  <td id="voltageSum"></td>
                  <td id="voltageCount"></td>
                  <td id="voltageMax"></td>
                  <td id="voltageMin"></td>
                </tr>
              </tbody>
           </table>
    <hr></hr>
    <h1>Temperature Point</h1>
       First:<br>
        <div id="temperatureFirst"></div>
        Last:<br>
        <div id="temperatureLast"></div>
            <table>
              <thead>
                <tr>
                  <th>#</th>
                  <th>Average</th>
                  <th>Integral</th>
                  <th>Sum</th>
                  <th>Count</th>
                  <th>Maximum</th>
                  <th>Minimum</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td id="pointName">Temperature</td>
                  <td id="temperatureAverage"></td>
                  <td id="temperatureIntegral"></td>
                  <td id="temperatureSum"></td>
                  <td id="temperatureCount"></td>
                  <td id="temperatureMax"></td>
                  <td id="temperatureMin"></td>
                </tr>
              </tbody>
           </table>           
           <hr></hr>
           <h1>Multistate Point</h1>
           First:<br>
           <div id="multistateFirst"></div>
           Last:<br>
           <div id="multistateLast"></div>
           <table>
              <thead>
                <tr>
                  <th>Value</th>
                  <th>Runtime Ratio</th>
                  <th>Proportion</th>
                  <th>Starts</th>
                </tr>
              </thead>
              <tbody id="multistateStartsAndRuntimes">
              </tbody>
           </table>
           
           
           
           <hr></hr>
           <h1>Alphanumeric Point</h1>
           <table>
              <thead>
                <tr>
                  <th>#</th>
                  <th>First</th>
                  <th>Last</th>
                  <th>Count</th>
                  <th>Changes</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td id="pointName">Alphanumeric - (Un-implemented)</td>
                  <td id="alphanumericFirst"></td>
                  <td id="alphanumericLast"></td>
                  <td id="alphanumericCount"></td>
                  <td id="alphanumericChanges"></td>
                </tr>
              </tbody>
           </table>
           
           
           
</body>
</html>

