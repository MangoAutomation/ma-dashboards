<style>
    md-table-container {
        max-height: 575px;
    }
</style>
<div layout="row" layout-wrap ng-init="page={}">
    <div flex="100" flex-gt-md="33" layout="column">
        <md-card>
            <md-card-title>
                <md-card-title-text>
                    <span class="md-headline">Point options</span>
                </md-card-title-text>
            </md-card-title>
            <md-card-content layout="column">
                <md-input-container flex="" class="no-errors-spacer">
                    <label>Choose a point</label>
                    <ma-point-list ng-model="point1"></ma-point-list>
                </md-input-container>
                <div layout="row">
                    <label flex="30">Point XID:</label>
                    <div flex="60" ng-bind="point1.xid"></div>
                </div>
                <div layout="row">
                    <label flex="30">Point Value:</label>
                    <ma-point-value flex="60" point="point1"></ma-point-value>
                </div>
                <div layout="row">
                    <label flex="30">Value Time:</label>
                    <ma-point-value flex="60" point="point1" display-type="dateTime" date-time-format="l LTS"></ma-point-value>
                </div>
                <ma-set-point-value point="point1"></ma-set-point-value>
            </md-card-content>
        </md-card>
        <md-card>
            <md-card-title>
                <md-card-title-text>
                    <span class="md-headline">Date controls</span>
                </md-card-title-text>
            </md-card-title>
            <md-card-content>
                <div layout="row" layout-wrap>
                    <md-input-container flex="100" class="no-errors-spacer">
                        <label>Date preset</label>
                        <ma-date-range-picker from="from" to="to" preset="LAST_1_DAYS" update-interval="{{updateInterval}} {{updateIntervalType}}"></ma-date-range-picker>
                    </md-input-container>
                    
                    <md-input-container flex="50" class="no-errors-spacer">
                        <label>From date</label>
                        <ma-date-picker ng-model="from" format="l LT"></ma-date-picker>
                    </md-input-container>
                    <md-input-container flex="50" class="no-errors-spacer">
                        <label>To date</label>
                        <ma-date-picker ng-model="to" format="l LT"></ma-date-picker>
                    </md-input-container>
                    
                    <md-input-container flex="10" class="no-errors-spacer interval-number">
                        <label>#</label>
                        <input type="number" step="1" min="1" ng-model="updateInterval" ng-init="updateInterval=1">
                    </md-input-container>
                    <md-input-container flex="90" class="no-errors-spacer interval-type">
                        <label>Update Interval</label>
                        <ma-interval-type-picker ng-model="updateIntervalType" ng-init="updateIntervalType='MINUTES'"></ma-interval-type-picker>
                    </md-input-container>

                    <md-input-container flex="10" class="no-errors-spacer interval-number">
                        <label>#</label>
                        <input type="number" step="1" min="1" ng-model="rollupInterval" ng-init="rollupInterval=1">
                    </md-input-container>
                    <md-input-container flex="45" class="no-errors-spacer interval-type">
                        <label>Rollup Interval</label>
                        <ma-interval-type-picker ng-model="rollupIntervalType" ng-init="rollupIntervalType='MINUTES'"></ma-interval-type-picker>
                    </md-input-container>
                    <md-input-container flex="45" class="no-errors-spacer" ng-init="rollupType='AVERAGE'">
                        <label>Rollup type</label>
                        <md-select ng-model="rollupType">
                            <md-option ng-value="t.type" ng-repeat="t in rollupTypes">{{t.label}}</md-option>
                        </md-select>
                    </md-input-container>
                </div>
            </md-card-content>
        </md-card>
    </div>
    <div flex="100" flex-gt-md="33">
        <md-card>
            <md-card-title>
                <md-card-title-text>
                    <span class="md-headline">Point values</span>
                </md-card-title-text>
            </md-card-title>
            <md-card-content>
                <md-table-container ng-init="page.tableOrder='-timestamp'" class="point-value-table">
                    <table md-table>
                        <thead md-head md-order="page.tableOrder">
                            <tr>
                                <th md-column md-order-by="timestamp">Time stamp</th>
                                <th md-column md-order-by="value">Point value</th>
                            </tr>
                        </thead>
                        <tbody md-body>
                            <tr ng-repeat="value in point1Values | orderBy:page.tableOrder | limitTo:200 track by $index">
                                <td md-cell>{{value.timestamp | moment:'format':'l LTS'}}</td>
                                <td md-cell>{{value.value}}</td>
                            </tr>
                        </tbody>
                    </table>
                </md-table-container>
            </md-card-content>
        </md-card>
    </div>
    <div flex="100" flex-gt-md="33">
        <md-card>
            <md-card-title>
                <md-card-title-text>
                    <span class="md-headline">Statistics</span>
                </md-card-title-text>
            </md-card-title>
            <md-card-content layout="column">
                <ma-point-statistics point="point1" from="from" to="to" statistics="statsObj"></ma-point-statistics>
                <ma-statistics-table statistics="statsObj"></ma-statistics-table>
            </md-card-content>
        </md-card>
        <!-- <md-card>
            <md-card-title>
              <md-card-title-text>
                <span class="md-headline">Notes</span>
              </md-card-title-text>
            </md-card-title>
            <md-card-content>
            
            </md-card-content>
        </md-card> -->
    </div>
</div>



<md-card>
    <md-card-title>
        <md-card-title-text>
            <span class="md-headline">Graph</span>
        </md-card-title-text>
    </md-card-title>
    <md-card-content>
        <ma-point-values point="point1" values="point1Values" from="from" to="to" rollup="{{rollupType}}" rollup-interval="{{rollupInterval}} {{rollupIntervalType}}">
        </ma-point-values>

        <ma-serial-chart style="height: 400px; width: 100%" series-1-values="point1Values" series-1-point="point1" options="{chartCursor:{categoryBalloonDateFormat:'YYYY-MM-DD HH:NN'}, export: {enabled:true}}">
        </ma-serial-chart>
    </md-card-content>
</md-card>